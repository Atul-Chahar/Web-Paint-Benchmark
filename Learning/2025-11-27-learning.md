# Daily Learning Log: Web Paint Benchmark
**Date:** 2025-11-27
**Author:** Atul Chahar / Anant Sharma
**Project Phase:** Week 3/4 - UI Integration & System Architecture

## 1. Today's Focus: Feature Integration
Today, I moved from individual feature testing to **System Integration**. I planned the architecture to unify the two core components of the project into a single, seamless user interface:
1.  **Global Statistics:** The high-level score derived from the Google PageSpeed API (Week 2 work).
2.  **Local Benchmarks:** The real-time "Stress Test" results from the `PerformanceObserver` loop (Week 3 work).

## 2. UI/UX Planning: The Unified Dashboard
I researched design patterns to effectively display these contrasting data sets without overwhelming the user.

### Design Decisions
* **Single Page Application (SPA) Flow:** The user will remain on the same page. The "Input State" will transition smoothly into the "Results State" without a full page reload.
* **Split-View or Tabbed Interface:** I am evaluating a layout that presents the **"Executive Summary"** (0-100 Score) at the top, with a secondary section for **"Deep Dive Metrics"** (Paint Costs, Frame Drops) below it.
* **Visual Hierarchy:**
    * *Primary:* The Circular Gauge (Global Health Score).
    * *Secondary:* Bar charts showing the "Stress Test" results (e.g., Input Latency spikes).

## 3. Technical Strategy: Asynchronous Data Merging
The biggest technical challenge identified today is synchronizing two different data sources with vastly different loading times.

### The "Race Condition" Strategy
* **The API:** Takes ~10-15 seconds (waiting for Google's servers).
* **The Stress Test:** Takes ~3-5 seconds (runs locally in the browser).

**Proposed Solution:**
I will implement a "Progressive Loading" UI.
1.  **Immediate Feedback:** Start the local "Stress Test" immediately upon clicking "Generate".
2.  **Intermediate State:** Display the local benchmark results (FPS/Jank) as soon as they finish.
3.  **Final State:** Reveal the global PageSpeed Score once the API response returns, completing the dashboard.

### Draft Logic for Integration
```javascript
async function generateFullReport(url) {
    // 1. UI: Show Loading State
    toggleLoader(true);

    // 2. Start both processes in parallel
    // We don't await the stress test immediately so the API request starts instantly too
    const stressTestPromise = runLocalStressTest(); 
    const apiPromise = fetchPageSpeedData(url);

    // 3. Handle Local Results (Fast)
    const localMetrics = await stressTestPromise;
    updateDashboardSection('local-benchmarks', localMetrics);

    // 4. Handle API Results (Slow)
    const apiMetrics = await apiPromise;
    updateDashboardSection('global-score', apiMetrics);

    // 5. Finalize UI
    toggleLoader(false);
}
